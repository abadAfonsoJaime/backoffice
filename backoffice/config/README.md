# Configuration Files

This directory contains configuration files for different environments.

## File Structure

- **`default.json`** - Template with placeholder values (committed to Git)
- **`custom-environment-variables.json`** - Maps environment variables to config (committed to Git)
- **`local.json`** - Your local development configuration (NOT committed - create from template)
- **`production.json`** - Production configuration (auto-generated by CI/CD)
- **`staging.json`** - Staging configuration (auto-generated by CI/CD)
- **`test.json`** - Test configuration (auto-generated by CI/CD)

## Setup for Local Development

1. Copy the template to create your local configuration:
   ```bash
   cd config
   cp default.json local.json
   ```

2. Edit `local.json` with your actual credentials:
   ```json
   {
     "dbConfig": {
       "host": "localhost",
       "user": "srv_backoffice",
       "port": 3306,
       "password": "YOUR_ACTUAL_PASSWORD",
       "database": "marketing_posts"
     },
     "jwtPrivateKey": "YOUR_ACTUAL_JWT_KEY"
   }
   ```

3. The config library will load files in this order:
   - default.json (base configuration)
   - {NODE_ENV}.json (e.g., production.json, staging.json)
   - local.json (your local overrides - highest priority)
   - Environment variables (via custom-environment-variables.json)

## Security Notes

⚠️ **NEVER commit files containing actual credentials!**

- `local.json` - Excluded via .gitignore
- `production.json` - Excluded via .gitignore
- `staging.json` - Excluded via .gitignore
- `test.json` - Excluded via .gitignore

These files contain sensitive data and should NEVER be committed to Git.

## Environment Variables

Alternatively, you can use environment variables (recommended for production):

**Windows (PowerShell):**
```powershell
$env:DB_HOST = "localhost"
$env:DB_USER = "srv_backoffice"
$env:DB_PORT = "3306"
$env:DB_PASSWORD = "your_password"
$env:DB_NAME = "marketing_posts"
$env:JWT_PRIVATE_KEY = "your_jwt_key"
```

**Linux/Mac (Bash):**
```bash
export DB_HOST=localhost
export DB_USER=srv_backoffice
export DB_PORT=3306
export DB_PASSWORD=your_password
export DB_NAME=marketing_posts
export JWT_PRIVATE_KEY=your_jwt_key
```

## Configuration Priority

When the application starts, config files are loaded in this order (later files override earlier ones):

1. `default.json` (lowest priority)
2. `{NODE_ENV}.json` (e.g., `production.json`)
3. `local.json`
4. Environment variables (highest priority)

This allows you to:
- Keep safe defaults in `default.json`
- Override for specific environments
- Override locally without affecting others
- Override everything with environment variables in production
